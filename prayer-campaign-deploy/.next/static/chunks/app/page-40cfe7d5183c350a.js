(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3249:(e,t,a)=>{Promise.resolve().then(a.bind(a,4717))},4717:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var r=a(5155),s=a(2115),l=a(2596),n=a(9688);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,l.$)(t))}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:o("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:o("px-6",t),...a})}var d=a(6766);function m(e){let{count:t,title:a,subtitle:l,gradient:n="from-emerald-100 to-amber-100",textColor:o="text-emerald-700",onClick:d}=e,[m,x]=(0,s.useState)(0),[h,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)([]);return(0,s.useEffect)(()=>{x(t)},[t]),(0,r.jsxs)(i,{className:"bg-gradient-to-r ".concat(n," border-emerald-200 shadow-xl transform transition-all duration-200 ").concat(h?"scale-95":"hover:scale-105"," relative overflow-hidden cursor-pointer"),onClick:e=>{if(d){let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,r=e.clientY-t.top,s={id:Date.now(),x:a,y:r};b(e=>[...e,s]),u(!0),setTimeout(()=>{b(e=>e.filter(e=>e.id!==s.id))},600),setTimeout(()=>u(!1),150),d()}},children:[g.map(e=>(0,r.jsx)("span",{className:"absolute bg-white/30 rounded-full animate-ping",style:{left:e.x-10,top:e.y-10,width:20,height:20}},e.id)),(0,r.jsxs)(c,{className:"p-4 text-center relative z-10",children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-emerald-800 mb-2 font-amiri",children:a}),(0,r.jsx)("div",{className:"text-3xl sm:text-4xl md:text-6xl font-bold ".concat(o," mb-1"),children:m.toLocaleString("en-US")}),l&&(0,r.jsx)("p",{className:"text-emerald-600 text-sm",children:l}),(0,r.jsxs)("div",{className:"flex justify-center mt-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse mx-0.5"}),(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full animate-pulse delay-100 mx-0.5"}),(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse delay-200 mx-0.5"})]})]})]})}var x=a(4624);let h=(0,a(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive touch-target",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3 has-[>svg]:px-4 min-h-[48px]",sm:"h-10 rounded-md gap-2 px-4 has-[>svg]:px-3 min-h-[44px]",lg:"h-14 rounded-md px-8 has-[>svg]:px-6 min-h-[52px]",icon:"size-12 min-h-[48px] min-w-[48px]"}},defaultVariants:{variant:"default",size:"default"}});function u(e){let{className:t,variant:a,size:s,asChild:l=!1,...n}=e,i=l?x.DX:"button";return(0,r.jsx)(i,{"data-slot":"button",className:o(h({variant:a,size:s,className:t})),...n})}function g(e){let{onClick:t,disabled:a=!1,size:l="md"}=e,[n,o]=(0,s.useState)(!1),[i,c]=(0,s.useState)([]);return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(u,{onClick:e=>{if(a)return;let r=e.currentTarget.getBoundingClientRect(),s=e.clientX-r.left,l=e.clientY-r.top,n={id:Date.now(),x:s,y:l};c(e=>[...e,n]),o(!0),setTimeout(()=>{c(e=>e.filter(e=>e.id!==n.id))},600),setTimeout(()=>o(!1),150),t()},disabled:a,className:"\n          bg-gradient-to-r from-emerald-600 to-emerald-700 \n          hover:from-emerald-700 hover:to-emerald-800 \n          text-white font-amiri rounded-2xl shadow-2xl \n          transform transition-all duration-200 \n          hover:scale-105 active:scale-95\n          ".concat({sm:"text-base px-4 py-2",md:"text-lg px-6 py-3",lg:"text-xl md:text-2xl px-8 py-4"}[l],"\n          ").concat(n?"scale-95":"","\n          ").concat(a?"opacity-50 cursor-not-allowed":"","\n          relative overflow-hidden\n          min-h-[48px] // Ensure minimum touch target size\n        "),children:[i.map(e=>(0,r.jsx)("span",{className:"absolute bg-white/30 rounded-full animate-ping",style:{left:e.x-10,top:e.y-10,width:20,height:20}},e.id)),(0,r.jsx)("span",{className:"relative z-10",children:"اللهم صل وسلم على نبينا محمد"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"absolute w-0.5 h-0.5 bg-amber-400 rounded-full animate-bounce ".concat(n?"opacity-100":"opacity-0"),style:{left:"".concat(30+20*t,"%"),top:"".concat(20+10*t,"%"),animationDelay:"".concat(100*t,"ms"),animationDuration:"1s"}},t))})]})}var b=a(1838);function p(e){let{className:t,value:a,...s}=e;return(0,r.jsx)(b.bL,{"data-slot":"progress",className:o("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...s,children:(0,r.jsx)(b.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}function f(e){let{dailyCount:t,totalCount:a}=e,[l]=(0,s.useState)(100),n=Math.min(t/l*100,100);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(i,{className:"bg-gradient-to-r from-emerald-50 to-white border-emerald-200",children:(0,r.jsxs)(c,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsx)("h3",{className:"text-base font-bold text-emerald-800",children:"التقدم اليومي"}),(0,r.jsxs)("span",{className:"text-xs text-emerald-600",children:[t," / ",l]})]}),(0,r.jsx)(p,{value:n,className:"h-2 mb-2"}),(0,r.jsx)("p",{className:"text-xs text-emerald-700 text-center",children:0===t?"ابدأ يومك بالصلاة على النبي":t<10?"بداية رائعة! استمر":t<50?"ممتاز! أنت في الطريق الصحيح":t<100?"مشاء الله! اقترب من الهدف اليومي":"بارك الله فيك! تجاوزت الهدف اليومي"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(i,{className:"bg-white/80 border-emerald-200",children:(0,r.jsxs)(c,{className:"p-3 text-center",children:[(0,r.jsx)("h4",{className:"text-xs font-bold text-emerald-800 mb-1",children:"صلواتك اليوم"}),(0,r.jsx)("div",{className:"text-xl font-bold text-emerald-700",children:t.toLocaleString("en-US")})]})}),(0,r.jsx)(i,{className:"bg-white/80 border-emerald-200",children:(0,r.jsxs)(c,{className:"p-3 text-center",children:[(0,r.jsx)("h4",{className:"text-xs font-bold text-emerald-800 mb-1",children:"إجمالي صلواتك"}),(0,r.jsx)("div",{className:"text-xl font-bold text-emerald-700",children:a.toLocaleString("en-US")})]})})]})]})}function j(e){let{prayerCount:t}=e,a="\uD83D\uDD4C انضم إلي في حملة الصلاة على النبي محمد صلى الله عليه وسلم\n\n✨ وصلت إلى ".concat(t.toLocaleString("en-US"),' صلاة\n"إِنَّ اللَّهَ وَمَلَائِكَتَهُ يُصَلُّونَ عَلَى النَّبِيِّ\n\nانضم الآن: ').concat(window.location.origin),s=async e=>{let r=window.location.origin;if("whatsapp"===e)window.open("https://wa.me/?text=".concat(encodeURIComponent(a)),"_blank");else if("telegram"===e)window.open("https://t.me/share/url?url=".concat(encodeURIComponent(r),"&text=").concat(encodeURIComponent(a)),"_blank");else if("twitter"===e){let e="\uD83D\uDD4C حملة الصلاة على النبي محمد ﷺ\nوصلت إلى ".concat(t.toLocaleString("en-US")," صلاة!\nانضم الآن: ").concat(r);window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e)),"_blank")}else if("facebook"===e)window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(r)),"_blank");else if(navigator.share)try{await navigator.share({title:"حملة الصلاة على النبي",text:a,url:r})}catch(e){console.log("Error sharing:",e),l()}else l()},l=async()=>{try{await navigator.clipboard.writeText(a),alert("تم نسخ النص للحافظة!")}catch(e){console.log("Error copying to clipboard:",e)}};return(0,r.jsx)(i,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white border-none",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-2 text-center font-amiri",children:"شارك الأجر والثواب"}),(0,r.jsxs)("p",{className:"text-emerald-100 text-center mb-3 text-sm leading-relaxed",children:['"من دل على خير فله مثل أجر فاعله"',(0,r.jsx)("br",{}),"شارك الحملة مع الأصدقاء والعائلة"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-3",children:[(0,r.jsx)(u,{onClick:()=>s("whatsapp"),className:"bg-green-500 hover:bg-green-600 text-white border-none text-sm h-9",children:"واتساب"}),(0,r.jsx)(u,{onClick:()=>s("telegram"),className:"bg-blue-500 hover:bg-blue-600 text-white border-none text-sm h-9",children:"تليجرام"}),(0,r.jsx)(u,{onClick:()=>s("twitter"),className:"bg-sky-500 hover:bg-sky-600 text-white border-none text-sm h-9",children:"تويتر"}),(0,r.jsx)(u,{onClick:()=>s("facebook"),className:"bg-blue-700 hover:bg-blue-800 text-white border-none text-sm h-9",children:"فيسبوك"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsx)(u,{onClick:()=>s(),className:"bg-white text-emerald-700 hover:bg-emerald-50 flex-1 text-sm h-9",children:"مشاركة عامة"}),(0,r.jsx)(u,{onClick:l,className:"bg-amber-500 hover:bg-amber-600 text-white flex-1 text-sm h-9",children:"نسخ النص"})]}),t>=100&&(0,r.jsx)("div",{className:"mt-2 p-2 bg-amber-400/20 rounded-lg text-center",children:(0,r.jsxs)("p",{className:"text-xs text-amber-100",children:["\uD83C\uDF89 تهانينا! وصلت إلى ",t.toLocaleString("en-US")," صلاة",(0,r.jsx)("br",{}),"شارك إنجازك مع الآخرين"]})})]})})}let v="prayerData",N="userId",w=()=>"user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),y=()=>{let e=localStorage.getItem(N);return e||(e=w(),localStorage.setItem(N,e)),e},S=()=>{try{let e=localStorage.getItem(v);if(e){let t=JSON.parse(e);t.userId||(t.userId=y());let a=new Date().toDateString();return t.lastPrayerDate!==a&&(t.dailyCount=0,t.lastPrayerDate=a,C(t)),t}}catch(e){console.error("Error reading prayer data from localStorage:",e),localStorage.removeItem(v)}let e=I();return C(e),e},C=e=>{try{localStorage.setItem(v,JSON.stringify(e))}catch(e){console.error("Error saving prayer data to localStorage:",e)}},D=()=>{let e=S(),t={...e,totalCount:e.totalCount+1,dailyCount:e.dailyCount+1,lastPrayerDate:new Date().toDateString()},a=k(t.totalCount,e.achievements);return a.length>0&&(t.achievements=[...e.achievements,...a]),C(t),t},I=()=>({totalCount:0,dailyCount:0,lastPrayerDate:new Date().toDateString(),achievements:[],joinDate:new Date().toISOString(),userId:y()}),k=(e,t)=>{let a=[];return[{id:"first_prayer",threshold:1,name:"الصلاة الأولى"},{id:"beginner",threshold:10,name:"المبتدئ"},{id:"dedicated",threshold:50,name:"المخلص"},{id:"persistent",threshold:100,name:"المثابر"},{id:"lover",threshold:500,name:"المحب"},{id:"devoted",threshold:1e3,name:"المداوم"},{id:"passionate",threshold:5e3,name:"العاشق"},{id:"master",threshold:1e4,name:"الماهر"}].forEach(r=>{e>=r.threshold&&!t.includes(r.id)&&a.push(r.id)}),a},T=()=>{try{let e=localStorage.getItem("cachedGlobalCount");return e?parseInt(e):0}catch(e){return console.error("Error reading cached global prayer count:",e),0}},E=e=>{try{localStorage.setItem("cachedGlobalCount",e.toString())}catch(e){console.error("Error caching global prayer count:",e)}},U=()=>{let e=S(),t=T();return{personalTotal:e.totalCount,dailyCount:e.dailyCount,globalTotal:t,joinDate:e.joinDate,achievements:e.achievements,userId:e.userId}},L=()=>{let e=new Date(S().joinDate);return Math.ceil(Math.abs(new Date().getTime()-e.getTime())/864e5)};function _(){let[e,t]=(0,s.useState)({personalTotal:0,dailyCount:0,globalTotal:0,joinDate:"",achievements:[],userId:""}),[a,l]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=U(),a=L();t(e),l(a)},[]);let n=e.personalTotal>0&&a>0?Math.round(e.personalTotal/a):0;return(0,r.jsx)(i,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,r.jsx)("h3",{className:"text-sm font-bold text-blue-800",children:"إحصائياتك الشخصية"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-blue-700",children:e.personalTotal.toLocaleString("en-US")}),(0,r.jsx)("div",{className:"text-xs text-blue-600",children:"إجمالي صلواتك"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-blue-700",children:e.dailyCount.toLocaleString("en-US")}),(0,r.jsx)("div",{className:"text-xs text-blue-600",children:"صلوات اليوم"})]})]}),(0,r.jsxs)("div",{className:"space-y-1 pt-2 border-t border-blue-200",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"تاريخ الانضمام:"}),(0,r.jsx)("span",{className:"text-blue-800 font-medium",children:(e=>{let[t,a,r]=new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}).split(" "),s=a.replace(",","");return"".concat(s," ").concat({January:"يناير",February:"فبراير",March:"مارس",April:"أبريل",May:"مايو",June:"يونيو",July:"يوليو",August:"أغسطس",September:"سبتمبر",October:"أكتوبر",November:"نوفمبر",December:"ديسمبر"}[t]||t," ").concat(r)})(e.joinDate)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"الأيام منذ الانضمام:"}),(0,r.jsxs)("span",{className:"text-blue-800 font-medium",children:[a.toLocaleString("en-US")," يوم"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"متوسط الصلوات يومياً:"}),(0,r.jsxs)("span",{className:"text-blue-800 font-medium",children:[n.toLocaleString("en-US")," صلاة"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-blue-600",children:"الإنجازات المحققة:"}),(0,r.jsxs)("span",{className:"text-blue-800 font-medium",children:[e.achievements.length.toLocaleString("en-US")," إنجاز"]})]}),(0,r.jsx)("div",{className:"bg-blue-100 p-1 rounded-lg mt-2",children:(0,r.jsx)("p",{className:"text-xs text-blue-700 text-center",children:"\uD83D\uDD12 بياناتك محفوظة محلياً"})})]}),(0,r.jsx)("div",{className:"mt-2 space-y-1",children:(()=>{let t=[{threshold:1e3,label:"1000 صلاة",achieved:e.personalTotal>=1e3},{threshold:2e3,label:"2000 صلاة",achieved:e.personalTotal>=2e3},{threshold:4e3,label:"4000 صلاة",achieved:e.personalTotal>=4e3},{threshold:8e3,label:"8000 صلاة",achieved:e.personalTotal>=8e3},{threshold:16e3,label:"16000 صلاة",achieved:e.personalTotal>=16e3}],a=t.find(e=>!e.achieved)||t[t.length-1],s=Math.min(e.personalTotal/a.threshold*100,100);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-blue-600",children:[(0,r.jsxs)("span",{children:["التقدم نحو ",a.label]}),(0,r.jsxs)("span",{children:[Math.min(e.personalTotal,a.threshold),"/",a.threshold]})]}),(0,r.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-1",children:(0,r.jsx)("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-500",style:{width:"".concat(s,"%")}})})]})})()})]})})}var P=a(6834),G=a.n(P);function M(){let[e,t]=(0,s.useState)({gregorian:"",hijri:"",time:""});return(0,s.useEffect)(()=>{let e=()=>{let e=new Date,a=e.toLocaleDateString("en-US",{day:"numeric",month:"numeric",year:"numeric"}),r=G()(e).format("iDD/iMM/iYYYY"),s=e.getHours();t({gregorian:a,hijri:r,time:e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" "+(s>=12?"م":"ص")})};e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[]),(0,r.jsx)("div",{className:"bg-gradient-to-r from-emerald-50 to-amber-50 border border-emerald-200 rounded-xl shadow-md p-3",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-2",children:[(0,r.jsxs)("div",{className:"text-center md:text-right",children:[(0,r.jsx)("div",{className:"text-xs text-emerald-600 font-medium"}),(0,r.jsx)("div",{className:"text-emerald-800 font-bold text-sm",children:e.gregorian})]}),(0,r.jsx)("div",{className:"hidden md:block w-px h-8 bg-emerald-200"}),(0,r.jsxs)("div",{className:"text-center md:text-left",children:[(0,r.jsx)("div",{className:"text-xs text-amber-600 font-medium"}),(0,r.jsx)("div",{className:"text-amber-800 font-bold text-sm",children:e.hijri})]}),(0,r.jsx)("div",{className:"hidden md:block w-px h-8 bg-emerald-200"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-blue-600 font-medium"}),(0,r.jsx)("div",{className:"text-blue-800 font-bold text-sm",children:e.time})]})]})})}var O=a(9509);let z="/api",R="true"===O.env.USE_KV_STORE,A={async getGlobalCount(){try{let e=await fetch(R?"".concat(z,"/prayer-count-kv"):"".concat(z,"/prayer-count"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();if(t.success)return t.globalCount;return console.error("API Error:",t.error),0}catch(t){console.error("Error fetching global prayer count:",t);let e=localStorage.getItem("cachedGlobalCount");return e?parseInt(e):0}},async incrementGlobalCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let t=await fetch(R?"".concat(z,"/prayer-count-kv"):"".concat(z,"/prayer-count"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({increment:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=await t.json();if(a.success)return localStorage.setItem("cachedGlobalCount",a.globalCount.toString()),localStorage.setItem("lastGlobalUpdate",new Date().toISOString()),a.globalCount;{console.error("API Error:",a.error);let t=localStorage.getItem("cachedGlobalCount"),r=(t?parseInt(t):0)+e;return localStorage.setItem("cachedGlobalCount",r.toString()),r}}catch(r){console.error("Error incrementing global prayer count:",r);let t=localStorage.getItem("cachedGlobalCount"),a=(t?parseInt(t):0)+e;return localStorage.setItem("cachedGlobalCount",a.toString()),a}},async syncPendingIncrements(){try{let e=localStorage.getItem("pendingIncrements");if(e){let t=parseInt(e);t>0&&(await this.incrementGlobalCount(t),localStorage.removeItem("pendingIncrements"))}}catch(e){console.error("Error syncing pending increments:",e)}},addPendingIncrement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=localStorage.getItem("pendingIncrements"),a=(t?parseInt(t):0)+e;localStorage.setItem("pendingIncrements",a.toString())},async checkAndSync(){navigator.onLine&&await this.syncPendingIncrements()}};function F(){let[e,t]=(0,s.useState)({totalCount:0,dailyCount:0,lastPrayerDate:new Date().toDateString(),achievements:[],joinDate:new Date().toISOString(),userId:""}),[a,l]=(0,s.useState)(0);(0,s.useEffect)(()=>{(async()=>{t(S());try{let e=await A.getGlobalCount();l(e),E(e)}catch(e){console.error("Error loading global count:",e),l(T())}})()},[]);let n=async()=>{t(D());try{let e=await A.incrementGlobalCount(1);l(e)}catch(t){console.error("Error updating global count:",t);let e=a+1;l(e),E(e),A.addPendingIncrement(1)}};return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)("section",{className:"relative py-12 px-4",children:(0,r.jsxs)("div",{className:"container mx-auto text-center max-w-4xl",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-emerald-800 mb-4 font-amiri",children:"حملة الصلاة على النبي"}),(0,r.jsx)("div",{className:"w-32 h-1 bg-gradient-to-r from-emerald-600 to-amber-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-base md:text-lg text-emerald-700 font-amiri leading-relaxed",children:'"إِنَّ اللَّهَ وَمَلَائِكَتَهُ يُصَلُّونَ عَلَى النَّبِيِّ ۚ يَا أَيُّهَا الَّذِينَ آمَنُوا صَلُّوا عَلَيْهِ وَسَلِّمُوا تَسْلِيمًا"'}),(0,r.jsx)("p",{className:"text-sm text-emerald-600 mt-3",children:"سورة الأحزاب - آية 56"})]}),(0,r.jsx)("div",{className:"mb-6 max-w-2xl mx-auto",children:(0,r.jsx)(M,{})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(m,{count:a,title:"إجمالي الصلوات في الحملة",subtitle:"صلاة على النبي محمد صلى الله عليه وسلم",gradient:"from-emerald-100 to-amber-100",textColor:"text-emerald-700",onClick:n})}),(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsx)(g,{onClick:n,size:"md"})}),(0,r.jsx)("div",{className:"mb-8 max-w-2xl mx-auto",children:(0,r.jsx)(i,{className:"bg-gradient-to-r from-blue-50 to-emerald-50 border-2 border-emerald-300 shadow-lg",children:(0,r.jsxs)(c,{className:"p-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center",style:{paddingTop:"0.5px",paddingBottom:"0.5px"},children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded-full mr-2 animate-ping"}),(0,r.jsx)("h3",{className:"text-lg font-bold text-emerald-800",children:"معاً نحو الهدف!"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded-full ml-2 animate-ping"})]}),(0,r.jsx)("p",{className:"text-emerald-700 text-center",style:{paddingLeft:"0.5px",paddingRight:"0.5px",paddingBottom:"0.5px"},children:"كل صلاة تزيد هذا العدد، وكل صلاة أجر وثواب. انضم إلينا لنحقق معاً هدفًا عظيمًا من الصلاة على النبي الأعظم \uD83C\uDF1F"})]})})}),(0,r.jsx)("div",{className:"mb-6 max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(f,{dailyCount:e.dailyCount,totalCount:e.totalCount})}),(0,r.jsx)("div",{children:(0,r.jsx)(_,{})})]})}),(0,r.jsx)("div",{className:"mb-1 w-full",children:(0,r.jsx)(i,{className:"bg-gradient-to-r from-amber-50 to-white border-amber-200 mx-auto max-w-4xl",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("h3",{className:"text-base font-bold text-amber-800 mb-2 text-center",children:"الإنجازات"}),(0,r.jsx)("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-5 gap-2",children:[{title:"المبتدئ",description:"1000 صلاة",threshold:1e3,achieved:e.totalCount>=1e3,icon:"\uD83C\uDF31"},{title:"المثابر",description:"2000 صلاة",threshold:2e3,achieved:e.totalCount>=2e3,icon:"⭐"},{title:"المحب",description:"4000 صلاة",threshold:4e3,achieved:e.totalCount>=4e3,icon:"\uD83D\uDC9A"},{title:"المداوم",description:"8000 صلاة",threshold:8e3,achieved:e.totalCount>=8e3,icon:"\uD83D\uDC51"},{title:"العاشق",description:"16000 صلاة",threshold:16e3,achieved:e.totalCount>=16e3,icon:"✨"}].map((e,t)=>(0,r.jsxs)("div",{className:"p-2 rounded-lg text-center transition-all duration-300 ".concat(e.achieved?"bg-amber-100 border-2 border-amber-300 scale-105":"bg-gray-100 border-2 border-gray-200 opacity-60"),children:[(0,r.jsx)("div",{className:"text-lg mb-1",children:e.icon}),(0,r.jsx)("div",{className:"text-xs font-bold text-amber-800",children:e.title}),(0,r.jsx)("div",{className:"text-xs text-amber-600",children:e.description})]},t))})]})})})]})}),(0,r.jsx)("section",{className:"py-1 px-4 bg-white/50",children:(0,r.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center text-emerald-800 mb-6 font-amiri",children:"فضل الصلاة على النبي"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,r.jsx)(i,{className:"bg-gradient-to-br from-emerald-50 to-white border-emerald-200",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-2 mx-auto",children:(0,r.jsx)(d.default,{src:"https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f7eea48f-411d-4b0c-b54b-e9d129d70632.png",alt:"مسجد",width:24,height:24})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-emerald-800 mb-1 text-center",children:"عشر حسنات"}),(0,r.jsx)("p",{className:"text-emerald-700 text-center text-sm",children:'"من صلى علي صلاة صلى الله عليه بها عشراً"'})]})}),(0,r.jsx)(i,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2 mx-auto",children:(0,r.jsx)(d.default,{src:"https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/67baaf7c-a4ed-4091-898c-149c026c076a.png",alt:"دعاء",width:24,height:24})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-amber-800 mb-1 text-center",children:"رفع الدرجات"}),(0,r.jsx)("p",{className:"text-amber-700 text-center text-sm",children:'"ورفع له عشر درجات وحط عنه عشر خطيئات"'})]})}),(0,r.jsx)(i,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2 mx-auto",children:(0,r.jsx)(d.default,{src:"https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f7eea48f-411d-4b0c-b54b-e9d129d70632.png",alt:"قلب",width:24,height:24})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-amber-800 mb-1 text-center",children:"شفاعة النبي"}),(0,r.jsx)("p",{className:"text-amber-700 text-center text-sm",children:'"أولى الناس بي يوم القيامة أكثرهم علي صلاة"'})]})}),(0,r.jsx)(i,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-2 mx-auto",children:(0,r.jsx)(d.default,{src:"https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/18a75d79-15de-4dea-89ef-aa56c75a1a4d.png",alt:"نور",width:24,height:24})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-amber-800 mb-1 text-center",children:"كفاية الهموم"}),(0,r.jsx)("p",{className:"text-amber-700 text-center text-sm",children:'"إذاً يكفيك الله ما أهمك من دنياك وآخرتك"'})]})})]})]})}),(0,r.jsx)("section",{className:"py-6 px-4",children:(0,r.jsx)("div",{className:"container mx-auto max-w-2xl",children:(0,r.jsx)(j,{prayerCount:e.totalCount})})}),(0,r.jsx)("section",{className:"py-3 px-4 bg-gray-50",children:(0,r.jsx)("div",{className:"container mx-auto max-w-4xl",children:(0,r.jsx)(i,{className:"bg-white border-gray-200",children:(0,r.jsxs)(c,{className:"p-3",children:[(0,r.jsx)("h3",{className:"text-base font-bold text-gray-800 mb-2 text-center",children:"\uD83D\uDD12 خصوصية وحفظ البيانات"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-3 text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDCBE"}),(0,r.jsx)("h4",{className:"font-bold text-gray-800 mb-1 text-sm",children:"حفظ محلي"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["جميع بياناتك محفوظة في متصفحك فقط",(0,r.jsx)("br",{}),"لا يتم إرسالها لأي خادم"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDD04"}),(0,r.jsx)("h4",{className:"font-bold text-gray-800 mb-1 text-sm",children:"حفظ تلقائي"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["يتم حفظ تقدمك تلقائياً",(0,r.jsx)("br",{}),"حتى عند إغلاق المتصفح"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDEE1️"}),(0,r.jsx)("h4",{className:"font-bold text-gray-800 mb-1 text-sm",children:"خصوصية كاملة"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["لا نجمع أي معلومات شخصية",(0,r.jsx)("br",{}),"بياناتك تبقى معك فقط"]})]})]}),(0,r.jsx)("div",{className:"mt-3 p-2 bg-emerald-50 rounded-lg",children:(0,r.jsxs)("p",{className:"text-xs text-emerald-700 text-center",children:[(0,r.jsx)("strong",{children:"ملاحظة:"})," إذا قمت بمسح بيانات المتصفح أو استخدام وضع التصفح الخاص، ستفقد تقدمك المحفوظ. للحفاظ على بياناتك، تجنب مسح بيانات الموقع."]})})]})})})})]})}window.addEventListener("online",()=>{A.checkAndSync()}),window.addEventListener("load",()=>{A.checkAndSync()})}},e=>{var t=t=>e(e.s=t);e.O(0,[586,828,441,684,358],()=>t(3249)),_N_E=e.O()}]);